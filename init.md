# 📋 “每天吃点啥 (What to eat today)” 开发前置报告

这份报告旨在为 App 进入编码阶段提供逻辑骨架和技术底座。

## 1. 产品定位与核心目标

* **产品名称**：每天吃点啥 (What to eat today)
* **核心痛点**：解决“有食材但没灵感”、“想做饭但不会买菜”、“想吃健康但算不清营养”的焦虑。
* **目标人群**：追求生活质量、时间宝贵、有一定烹饪基础的上班族或居家用户。

---

## 2. 核心业务逻辑 (Core Logic)

系统将通过“偏好输入 -> AI 计算 -> 精准推荐”的闭环运行：

* **多维推荐算法**：
* **静态权重**：用户预设的口味、地域、职业（时间充裕度）。
* **动态调整**：根据季节时令、用户反馈历史、难度星级进行筛选。


* **双向检索**：
* **正向**：根据食谱推荐食材清单。
* **反向**：根据用户现有的“冰箱存货”检索可生成的菜谱。


* **购物清单生成**：自动汇总推荐食谱所需的食材，并按菜场/超市逻辑分类。

---

## 3. 技术栈选型 (Tech Stack)

考虑到跨平台发布需求以及你对 AI 辅助开发的偏好：

| 模块 | 推荐技术 | 理由 |
| --- | --- | --- |
| **前端开发** | **React Native + Expo** | 性能接近原生，Expo 提供完善的开发工具链和 OTA 更新能力，GitHub 社区组件丰富。 |
| **后端服务** | **Django (Python)** | 成熟稳定的全栈框架，ORM 强大，Admin 后台开箱即用，生态丰富。 |
| **数据库** | **PostgreSQL** | 存储用户信息及本地化的缓存菜谱数据。 |
| **AI 集成** | **DeepSeek API** | 国产大模型，用于营养价值计算、视频转文字食谱、个性化推荐语生成。 |
| **数据源** | **GitHub Open Source** | 基于 HowToCook 等项目进行初步爬取与结构化。https://github.com/Anduin2017/HowToCook.git |

---

## 4. 数据库设计要点 (Database Design)

为了支持复杂的推荐逻辑，数据库需包含以下核心表：

1. **Users (用户表)**：存储角色（上班族等）、地域偏好、过敏/避讳食材。
2. **Recipes (食谱表)**：包含标题、难度(1-5星)、耗时、原始链接、视频链接。
3. **Ingredients (食材表)**：每 100g 的营养数据（由 AI 预填）。
4. **User_Feedback (用户反馈)**：记录“已做”、“不喜欢”、“收藏”等行为。

---

## 5. AI 处理流程：营养计算公式

你提到的营养成分统计将由 AI 驱动。AI 将基于以下 LaTeX 公式逻辑对食谱进行结构化解析：

> 对于食谱中的每一种食材 ，系统计算总营养含量 ：
> 
> 
> 
> *其中  是由 DeepSeek 结合食材数据库给出的每 100g 营养参考值。*

---

## 6. 角色划分与开发流程

* **开发者 (你 + AI 助手)**：负责 React Native + Expo 界面实现、Django 接口开发、AI 接口调用。
* **系统管理员 (后台)**：负责更新 GitHub 菜谱库的爬取任务，审核 AI 转换的文字食谱准确性。
* **普通用户**：进行初始设定，查看每日推荐，反馈口味偏好。

---

## 7. 后续开发建议 (Next Steps)

1. **数据清洗**：先编写一个 Python 脚本，将 GitHub 的 Markdown 菜谱转换成 JSON 格式。
2. **Prompt 工程**：设计一套专门用于“食谱转营养成分表”的提示词（Prompt），确保 AI 输出的数据格式稳定。
3. **原型搭建**：使用 Expo 初始化 React Native 项目，完成"首页推荐"和"问询问卷"的 UI。

---

## 8. AI选用：国内的ai，暂定deepseek